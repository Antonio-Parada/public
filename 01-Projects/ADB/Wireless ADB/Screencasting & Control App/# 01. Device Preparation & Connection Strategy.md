# 01. Device Preparation & Connection Theory

## A. The "Injection" Strategy
Instead of using Android's "Wireless Debugging" (which randomizes ports), we use a hybrid approach:
1.  **Connect via USB.**
2.  **Run `adb tcpip 5555`.**
3.  **Disconnect USB.**
*Result:* The ADB daemon restarts and listens permanently on port `5555` (until reboot). This allows our scripts to be "stateless" and reliable.

## B. Device-Specific Settings

### 1. Samsung Z Flip 5
* **Auto Blocker:** MUST be **OFF** (*Settings > Security and privacy > Auto Blocker*). This allows mouse input.
* **Determine Display IDs:**
    * Run `adb shell cmd device_state print-state`.
    * **Folded (0):** Maps to `display-id=1` (Cover Screen digitizer).
    * **Open (2):** Maps to `display-id=0` (Main Screen).
* **USB Debugging:** ON.

### 2. Tablets (Galaxy Tab, Pixel Tablet)
* **USB Debugging:** ON.
* **Revoke Authorizations:** If connection fails, revoke keys in Developer Options to force a new trust prompt.

## C. Google Pixel (and similar devices)
* **USB Debugging:** ON.
* **Wireless Debugging:** Can be left OFF once port 5555 is injected via USB.
* **High-Res Optimization:** Since the screen is massive, scripts should limit resolution (e.g., `--max-size 1024`) to ensure low latency.

## D. The "Repair" Workflow
If a device runs out of battery or reboots, the "Injection" is lost.
* **Fix:** Select **"Repair Connection"** from the Android Menu, plug in via USB for 3 seconds, and unplug.